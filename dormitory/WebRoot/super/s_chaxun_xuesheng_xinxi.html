<style type="text/css">
#filter {
	margin-left:8px;
}
#searchBar select {
	width:200px;
	margin-right:20px;
	margin-bottom:30px;
}
</style>
<div class="right_top btm">
  <div class="rheader"><span class="pageName"><b>查询学生信息</b></span><span class="shuoming">您可以查看符合条件的学生信息</span></div>
</div>
<div class="right_contain"> 
  <!-- 筛选框 -->
  <div id="searchBar"> 学院:
    <select name="academy" id="academy">
      <option value="0">未选择</option>
      <option value="1">通信</option>
      <option value="3">经管</option>
      <option value="4">计算机</option>
    </select>
    年级:
    <select name="grade" id="grade">
      <option value="0">未选择</option>
      <option value="2013">2013</option>
      <option value="2012">2012</option>
      <option value="2011">2011</option>
      <option value="2010">2010</option>
    </select>
    学历:
    <select name="education" id="education">
      <option value="" selected="selected">本科生</option>
      <option value="2">研究生</option>
      <option value="3">博士生</option>
    </select>
    <input type="button" value="筛选" name="filter" id="filter">
  </div>
  <!-- 展示数据的表格 -->
  <div id="showTable"></div>
</div>
<script type="text/javascript">
var showTable=$('#showTable');//定义一个全局变量，指向要操作的table
	$("#filter").click(function(event) {//点击筛选展示数据
		//定义三个变量获取筛选的条件
		var academyText=$("#academy").val(),
			grade=$("#grade").val(),
			education=$("#education").val();
		showTable.datagrid({
			width:'900px',
			height:'330px',
//			url:'json/get/s_chaxun_xuesheng_xinxi.json',
			url:'studentInfo/findStudent.do',
			rownumbers:'true',
			fitColumns:'true',
			queryParams:{
				academy:academyText,
				grade:grade,
				education:education
			},
			pagination:'true',
			columns:[[     
				{field:'studentId',title:'学号',width:100,align:'center',editor:'text'},    
				{field:'name',title:'姓名',width:100,align:'center',editor:'text'},
				{field:'sex',title:'性别',width: 60,align:'center',
					editor:{
						type:'combobox',
						options:{
							data:[{'value':'男','text':'男'},{'value':'女','text':'女'}],
							valueField: "value",
							textField: "text"
						}
					}
				}, 
				{field:'age',title:'年龄',width: 60,align:'center',editor:'text'},    
				{field:'academy',title:'学院',width: 200,align:'center',
					editor:{
						type:'combobox',
						options:{
							data:[],
							valueField: "value",
							textField: "text"
						}
					}},
				{field:'major',title:'专业',width: 150,align:'center',editor:'text'},
				{field:'grade',title:'年级',width: 100,align:'center',editor:'text'},
				{field:'classes',title:'班级',width: 100,align:'center',editor:'text'},    
				{field:'home',title:'籍贯',width: 100,align:'center',editor:'text'},
				{field:'nation',title:'民族',width: 60,align:'center',editor:'text'},
				{field:'education',title:'学历',width: 120,align:'center',
					editor:{
						type:'combobox',
						options:{
						}
					}},    
				{field:'roomId',title:'寝室号',width: 100,align:'center',editor:'text'}
			]]
		}); 
		showTable.datagrid('autoSizeColumn');//自动调整列宽度以适应内容
	});
</script>